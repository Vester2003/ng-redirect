<html>
<head>
  <script>
    // Попытка открыть приложение через кастомную схему
    var now = new Date().getTime();
    var timeout = 1500; // 1.5 секунды на редирект

    // Через setTimeout, если не сработало — fallback
    setTimeout(function() {
      // Определяем платформу
      var ua = navigator.userAgent || navigator.vendor || window.opera;
      if (/iPhone|iPad|iPod/i.test(ua)) {
        window.location.href = "https://apps.apple.com/ru/app/%D0%BD%D0%B0%D1%88-%D0%B3%D0%BE%D1%80%D0%BE%D0%B4/id6444522487";
      } else if (/Android/i.test(ua)) {
        window.location.href = "https://www.rustore.ru/catalog/app/ru.mos.ourcity";
      } else {
        // Веб fallback
        window.location.href = "https://www.mos.ru";
      }
    }, timeout);

    // Пытаемся открыть приложение
    window.location = "ng://open";
  </script>
</head>
<body></body>
</html>